# argument to provide specific version of evmos node
ARG INITIAL_VERSION
FROM tharsishq/evmos:$INITIAL_VERSION

RUN apt-get update -y
# jq needs to perform changes of node parameters
RUN apt-get install ca-certificates jq -y

WORKDIR /go/src/github.com/evmos/evmos

COPY ./init-node.sh .

# perms to make init-node.sh executable
RUN chmod +x init-node.sh

# JSON-RPC server
EXPOSE 8545

CMD ["sh", "./init-node.sh"]
